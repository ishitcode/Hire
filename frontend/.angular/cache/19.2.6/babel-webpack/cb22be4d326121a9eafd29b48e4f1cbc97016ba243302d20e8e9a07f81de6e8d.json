{"ast":null,"code":"import { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../../services/data.service\";\nimport * as i4 from \"@angular/forms\";\nexport let LandingPageComponent = /*#__PURE__*/(() => {\n  class LandingPageComponent {\n    router;\n    http;\n    dataService;\n    fileName = '';\n    selectedFile = null;\n    jobRole = '';\n    requiredSkills = '';\n    experienceLevel = '';\n    globalTextData = '';\n    interviewResult = null;\n    constructor(router, http, dataService) {\n      this.router = router;\n      this.http = http;\n      this.dataService = dataService;\n    } // ‚úÖ Inject here\n    triggerFileInput() {\n      const fileInput = document.getElementById('resumeUpload');\n      fileInput?.click();\n    }\n    onFileSelected(event) {\n      const input = event.target;\n      if (input?.files?.length) {\n        const file = input.files[0];\n        this.selectedFile = file;\n        this.fileName = ` ${file.name}`;\n        this.uploadFile(); // Trigger upload\n      } else {\n        this.fileName = '';\n      }\n    }\n    // uploadFile() {\n    //   if (!this.selectedFile) return;\n    //   const formData = new FormData();\n    //   formData.append('resume', this.selectedFile); // ‚Üê use correct field name\n    //   this.http.post('http://localhost:4000/api/upload',  formData).subscribe(\n    //     (response: any) => {\n    //       console.log('File uploaded successfully!', response);\n    //     },\n    //     (error: any) => {\n    //       console.error('Upload error:', error);\n    //     }\n    //   );\n    // }\n    uploadFile() {\n      if (!this.selectedFile) return;\n      const formData = new FormData();\n      formData.append('resume', this.selectedFile);\n      // console.log(\"üì§ Uploading file to backend:\", this.selectedFile);\n      this.globalTextData = JSON.stringify(this.selectedFile);\n      // console.log(\"üì¶ File data:\", this.globalTextData);\n      this.http.post('api/upload', formData).subscribe(response => {\n        // console.log('‚úÖ File uploaded successfully!', response.text);\n        this.globalTextData = response.text;\n        this.dataService.sharedText = this.globalTextData; // Store the text in the service\n        this.dataService.job = this.jobRole; // Store the text in the service\n        console.log(\"üìÑ Extracted Resume Text:\", this.globalTextData);\n      }, error => {\n        console.error('‚ùå Upload error:', error);\n      });\n    }\n    redirectToAnalyzeResume() {\n      const jobData = {\n        text: this.globalTextData,\n        role: this.jobRole,\n        requiredSkills: this.requiredSkills ? this.requiredSkills.split(',').map(skill => skill.trim()) : [],\n        experienceLevel: this.experienceLevel\n      };\n      this.http.post('api/analyze', jobData).subscribe(response => {\n        // console.log(\"‚úÖ Server response:\", response);\n        this.dataService.interview = response;\n        this.interviewResult = response;\n        console.log(\"üìÑ aaaaaaaaaaaaaaaaaaaaa Extracted Resume Text:\", this.dataService.interview);\n      }, error => {\n        console.error(\"‚ùå Error submitting job data:\", error);\n      });\n      this.router.navigate(['/analyze-resume']);\n    }\n    static …µfac = function LandingPageComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LandingPageComponent)(i0.…µ…µdirectiveInject(i1.Router), i0.…µ…µdirectiveInject(i2.HttpClient), i0.…µ…µdirectiveInject(i3.DataService));\n    };\n    static …µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: LandingPageComponent,\n      selectors: [[\"app-landing-page\"]],\n      decls: 45,\n      vars: 4,\n      consts: [[1, \"container\"], [1, \"main-content\"], [1, \"resume-upload\"], [\"id\", \"uploadProgress\"], [1, \"upload-icon\"], [\"type\", \"file\", \"id\", \"resumeUpload\", \"accept\", \".pdf,.doc,.docx\", 2, \"display\", \"none\", 3, \"change\"], [\"id\", \"uploadButton\", 1, \"get-started-btn\", 2, \"margin-top\", \"20px\", 3, \"click\"], [\"id\", \"fileInfo\", 2, \"margin-top\", \"10px\", \"color\", \"#6a11cb\"], [1, \"job-details\"], [1, \"form-group\"], [\"for\", \"requiredSkills\"], [1, \"validation-error\"], [\"type\", \"text\", \"id\", \"jobRole\", \"placeholder\", \"e.g. Senior Frontend Developer\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"id\", \"experienceLevelError\", 1, \"validation-error\"], [\"type\", \"text\", \"id\", \"requiredSkills\", \"placeholder\", \"e.g. React, Node.js, TypeScript\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"id\", \"experienceLevel\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"entry\"], [\"value\", \"mid\"], [\"value\", \"senior\"], [2, \"display\", \"flex\", \"justify-content\", \"center\", 3, \"click\"], [\"id\", \"submitJobDetails\", 1, \"get-started-btn\", 2, \"width\", \"200px\"], [1, \"section-hint\"]],\n      template: function LandingPageComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.…µ…µelement(3, \"div\", 3);\n          i0.…µ…µelementStart(4, \"div\", 4);\n          i0.…µ…µtext(5, \"\\uD83D\\uDCE4\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(6, \"h2\");\n          i0.…µ…µtext(7, \"Drag & drop your resume here\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(8, \"p\");\n          i0.…µ…µtext(9, \"or click to browse\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(10, \"input\", 5);\n          i0.…µ…µlistener(\"change\", function LandingPageComponent_Template_input_change_10_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(11, \"button\", 6);\n          i0.…µ…µlistener(\"click\", function LandingPageComponent_Template_button_click_11_listener() {\n            return ctx.triggerFileInput();\n          });\n          i0.…µ…µtext(12, \"Upload Resume\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(13, \"p\", 7);\n          i0.…µ…µtext(14);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(15, \"div\", 8)(16, \"div\", 9)(17, \"label\", 10);\n          i0.…µ…µtext(18, \"Required Skills\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(19, \"span\", 11);\n          i0.…µ…µtext(20, \"Job Role\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(21, \"input\", 12);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function LandingPageComponent_Template_input_ngModelChange_21_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.jobRole, $event) || (ctx.jobRole = $event);\n            return $event;\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µelement(22, \"br\")(23, \"br\");\n          i0.…µ…µelementStart(24, \"span\", 13);\n          i0.…µ…µtext(25, \"Tech Stack\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(26, \"input\", 14);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function LandingPageComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.requiredSkills, $event) || (ctx.requiredSkills = $event);\n            return $event;\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µelement(27, \"br\")(28, \"br\");\n          i0.…µ…µelementStart(29, \"span\", 13);\n          i0.…µ…µtext(30, \"Please select an experience level\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(31, \"select\", 15);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function LandingPageComponent_Template_select_ngModelChange_31_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.experienceLevel, $event) || (ctx.experienceLevel = $event);\n            return $event;\n          });\n          i0.…µ…µelementStart(32, \"option\", 16);\n          i0.…µ…µtext(33, \"Select Experience Level\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(34, \"option\", 17);\n          i0.…µ…µtext(35, \"Entry Level (0-2 years)\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(36, \"option\", 18);\n          i0.…µ…µtext(37, \"Mid Level (2-5 years)\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(38, \"option\", 19);\n          i0.…µ…µtext(39, \"Senior Level (5+ years)\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(40, \"div\", 20);\n          i0.…µ…µlistener(\"click\", function LandingPageComponent_Template_div_click_40_listener() {\n            return ctx.redirectToAnalyzeResume();\n          });\n          i0.…µ…µelementStart(41, \"button\", 21);\n          i0.…µ…µtext(42, \" Submit Job Requirements \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(43, \"div\", 22);\n          i0.…µ…µtext(44, \" Double click to start section editing requirements... \");\n          i0.…µ…µelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(14);\n          i0.…µ…µtextInterpolate(ctx.fileName);\n          i0.…µ…µadvance(7);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.jobRole);\n          i0.…µ…µadvance(5);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.requiredSkills);\n          i0.…µ…µadvance(5);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.experienceLevel);\n        }\n      },\n      dependencies: [RouterModule, FormsModule, i4.NgSelectOption, i4.…µNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, CommonModule],\n      styles: [\".main-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px;margin:50px}.resume-upload[_ngcontent-%COMP%]{background-color:#16213e;border:2px dashed #0f3460;border-radius:10px;padding:40px;text-align:center;transition:all .3s ease;cursor:pointer;position:relative;overflow:hidden}.resume-upload[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:100%;height:200%;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(233,69,96,.1) 10px,rgba(233,69,96,.1) 20px);opacity:0;transition:opacity .3s ease}.resume-upload.dragover[_ngcontent-%COMP%]:before{opacity:1}.resume-upload[_ngcontent-%COMP%]:hover{border-color:#e94560}.upload-icon[_ngcontent-%COMP%]{font-size:64px;color:#6a11cb;margin-bottom:20px;transition:transform .3s ease}.resume-upload[_ngcontent-%COMP%]:hover   .upload-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.job-details[_ngcontent-%COMP%]{background-color:#16213e;border-radius:10px;padding:30px;position:relative}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;position:relative}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#e0e0e0;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#0f3460;border:1px solid #6a11cb;border-radius:6px;color:#fff;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2575fc;box-shadow:0 0 0 3px #2575fc33}.form-group[_ngcontent-%COMP%]   .validation-error[_ngcontent-%COMP%]{color:#ff4d4d;font-size:.8em;position:absolute;bottom:-20px;left:0;display:none}.section-hint[_ngcontent-%COMP%]{text-align:center;color:#6a11cb;margin-top:20px;font-style:italic;opacity:.7}#uploadProgress[_ngcontent-%COMP%]{width:0;height:4px;background-color:#e94560;position:absolute;bottom:0;left:0;transition:width .5s ease}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.get-started-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#6a11cb,#2575fc);color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0000001a}.get-started-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 8px #0003}\"]\n    });\n  }\n  return LandingPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}