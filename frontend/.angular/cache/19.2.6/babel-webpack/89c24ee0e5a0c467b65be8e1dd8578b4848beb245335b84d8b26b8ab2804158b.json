{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../services/data.service\";\nexport let AiInterviewComponent = /*#__PURE__*/(() => {\n  class AiInterviewComponent {\n    http;\n    dataService;\n    constructor(http, dataService) {\n      this.http = http;\n      this.dataService = dataService;\n    }\n    ngOnInit() {\n      this.submitJobData(); // Call the function on component initialization\n    }\n    // summary: any = this.dataService.interview.analysis.summary; // Declare the property with a valid type or use 'any' if the type is unknown\n    jp;\n    submitJobData() {\n      this.http.get('http://localhost:4000/api/calls').subscribe(response => {\n        console.log(\"✅ Server response:\", response || []);\n        // console.log(\"✅ Server response:\", response.structured_conversation || []);\n        // console.log(\"✅ Server response:\", response.structured_conversation.results.channels[0] || []);\n        console.log(\"✅ Server response:\", response.structured_conversation.results.channels[0].alternatives[0].transcript || []);\n        this.dataService.job = response.structured_conversation.results.channels[0].alternatives[0].transcript;\n        this.jp = this.dataService.job;\n        this.finaleval(this.jp, this.dataService.summary); // Pass the job data to finaleval\n        // const audioUrl = response;\n      }, error => {\n        console.error(\"❌ Error submitting job data:\", error);\n      });\n    }\n    finaleval(conversation, summary) {\n      const conversationArray = conversation.split('\\n'); // Splits by each new line\n      const jobData = {\n        conversation: conversationArray,\n        // Use transcript\n        summary: summary\n      };\n      this.http.post('http://localhost:4000/api/finaleval', jobData).subscribe(response => {\n        console.log(\"✅ Server response:\", response);\n      }, error => {\n        console.error(\"❌ Error submitting job data:\", error);\n      });\n    }\n    static ɵfac = function AiInterviewComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AiInterviewComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.DataService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AiInterviewComponent,\n      selectors: [[\"app-ai-interview\"]],\n      decls: 11,\n      vars: 0,\n      consts: [[1, \"interview-container\"], [1, \"interview-header\"], [1, \"question-number\"], [1, \"header-text\"], [1, \"question-section\"]],\n      template: function AiInterviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3, \"1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"h2\");\n          i0.ɵɵtext(6, \"AI Interview Session\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\");\n          i0.ɵɵtext(8, \"1/20 Questions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"div\", 4);\n          i0.ɵɵtext(10, \" Initiating the call. Please wait... \");\n          i0.ɵɵelementEnd()();\n        }\n      },\n      styles: [\".interview-container[_ngcontent-%COMP%]{margin:85px auto 100px;align-items:center;width:100%;max-width:800px;background-color:#151e33;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px #0003}.interview-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;border-bottom:1px solid #2c3e5a}.question-number[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#2563eb;border-radius:50%;display:flex;justify-content:center;align-items:center;font-weight:700;margin-right:15px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:5px}.question-section[_ngcontent-%COMP%]{background-color:#1e2c4a;margin:20px;padding:15px;border-radius:8px;height:300px}.evaluation-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;padding:20px}.analysis-summary[_ngcontent-%COMP%], .final-decision[_ngcontent-%COMP%]{background-color:#1e2c4a;border-radius:8px;padding:20px}.strengths[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .improvement-areas[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px;color:#10b981}.improvement-areas[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#eab308}.decision-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.accepted-badge[_ngcontent-%COMP%]{color:#10b981;font-weight:700}@media (max-width: 768px){.evaluation-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n    });\n  }\n  return AiInterviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}